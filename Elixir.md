# Elixir


Elixir - это динамический, функциональный язык, разработанный для создания масштабируемых и поддерживаемых приложений.

Elixir использует виртуальную машину Erlang, известную своими низкоуровневыми распределенными и отказоустойчивыми системами, а также успешно используется в веб-разработке и в области встроенного программного обеспечения.

---



---
### Особенности платформы
---

#### Масштабируемость

Весь код Elixir выполняется внутри облегченных потоков выполнения (называемых процессами), которые изолированы и обмениваются информацией посредством сообщений:

```elixir
current_process = self()

# Spawn an Elixir process (not an operating system one!)
spawn_link(fn ->
  send(current_process, {:msg, "hello world"})
end)

# Block until the message is received
receive do
  {:msg, contents} -> IO.puts(contents)
end
```
Из-за их легкого характера, нередки случаи, когда на одной машине одновременно работают сотни тысяч процессов . Изоляция позволяет независимо собирать мусор, сокращая паузы в масштабе всей системы и максимально эффективно используя все ресурсы машины (вертикальное масштабирование).

Процессы также могут связываться с другими процессами, работающими на разных машинах в одной сети. Это обеспечивает основу для распространения, позволяя разработчикам координировать работу между несколькими узлами (горизонтальное масштабирование).

---

#### Отказоустойчивость

Отказоустойчивость
Неизбежная правда о программном обеспечении, работающем в производстве, состоит в том, что все пойдет не так . Еще больше, если учесть сеть, файловые системы и другие сторонние ресурсы.

Чтобы справиться со сбоями, Elixir предлагает супервизоры, которые описывают, как перезапускать части вашей системы, когда что-то идет не так, возвращаясь к известному начальному состоянию, которое гарантированно будет работать:

```elixir
children = [
  TCP.Pool,
  {TCP.Acceptor, port: 4040}
]

Supervisor.start_link(children, strategy: :one_for_one)
```

Сочетание масштабируемости, отказоустойчивости и событийного программирования посредством передачи сообщений делает Elixir отличным выбором для реактивного программирования и архитектур.

---
### Особенности языка
---

#### Функциональное программирование
Функциональное программирование продвигает стиль кодирования, который помогает разработчикам писать короткий, лаконичный и понятный код. Например, сопоставление с образцом позволяет разработчикам легко деструктурировать данные и получать доступ к их содержимому:

```elixir
%User{name: name, age: age} = User.get("John Doe")
name #=> "John Doe"
```

Elixir в значительной степени полагается на эти функции, чтобы обеспечить работу вашего программного обеспечения в ожидаемых условиях.

---
### Плюсы и минусы
---

#### Плюсы

- Понятный синтаксис. Разумеется, с поправкой на то, что программирование всё же функциональное. То есть сложные конструкции допускаются, но чаще всего понять код не составляет труда.

- Высокий уровень параллелизма и масштабируемости. Это касается написания коллективного кода.

- Эффективное управление ресурсами. Код, написанный с помощью Elixir не потребует больших вложений в аппаратную или человеческую составляющую, даже если приложение будет направлено на огромную аудиторию.

---
### Минусы 
---

По части минусов, они касаются больше платформы Erlang. Для некоторых задач Erlang либо недостаточен, либо сложен.

- Так сложилось, что для Erlang не было толкового ORM. Проект Chicago Boss развивал свой ORM — boss_db, но он был далек от идеала. Для проектов с интенсивной работой с базами данных приходилось изобретать свои решения. Для решения данных задач был разработан проект Ecto.

- Erlang был недружелюбным языком для большого веба, несмотря на количество библиотек для работы с HTTP. Проекты вроде Chigago Boss не сильно помогали — писать веб на Erlang решались только сильные духом. Phoenix сделал Elixir одним из решений для написания крупных веб-приложений.
---
### Get Started
---

#### Установка
Если вы еще не установили Elixir, посетите нашу страницу установки . Когда вы закончите, вы можете запустить,`elixir --version` чтобы получить текущую версию Elixir.

#### Интерактивный режим

При установке эликсира, вы будете иметь три новые исполняемые файлы: `iex`, `elixir` и `elixirc`. Если вы скомпилировали Elixir из исходного кода или используете упакованную версию, вы можете найти их в `bin` каталоге.

А пока давайте начнем с запуска `iex` (или `iex.batе` сли вы работаете в Windows PowerShell, где `iex` есть команда PowerShell), что означает Interactive Elixir. В интерактивном режиме мы можем набрать любое выражение Elixir и получить его результат. Давайте согреемся с некоторыми основными выражениями.

Откройте `iex` и введите следующие выражения:

```elixir 
Erlang/OTP 21.0 [64-bit] [smp:2:2] [...]

Interactive Elixir (1.10.3) - press Ctrl+C to exit
iex(1)> 40 + 2
42
iex(2)> "hello" <> " world"
"hello world"
```

Обратите внимание, что некоторые детали, такие как номера версий, могут немного отличаться в вашей сессии; это не важно Отныне `iex` сессии будут сокращены, чтобы сосредоточиться на коде. Для выхода `iex` нажмите `Ctrl+C` дважды.

Кажется, мы готовы к работе! 

#### Запуск скриптов

После знакомства с основами языка вы можете попробовать написать простые программы. Это можно сделать, поместив следующий код Elixir в файл:

```elixir
IO.puts "Hello world from Elixir"
```

Сохраните это как `simple.exs` и выполните это с `elixir`:

```bash
$ elixir simple.exs
Hello world from Elixir
```